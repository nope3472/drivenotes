{
    "sourceFile": "lib/main.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 38,
            "patches": [
                {
                    "date": 1744891275403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744891282638,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n+import 'package:drivenotes/login.dart';\r\n import 'package:flutter/material.dart';\r\n import 'package:firebase_core/firebase_core.dart';\r\n-import 'login_page.dart'; // Import the login page from a separate file\r\n+// Import the login page from a separate file\r\n \r\n void main() async {\r\n   WidgetsFlutterBinding.ensureInitialized();\r\n   await Firebase.initializeApp(); // Initializes Firebase\r\n"
                },
                {
                    "date": 1744891288174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,9 @@\n // Import the login page from a separate file\r\n \r\n void main() async {\r\n   WidgetsFlutterBinding.ensureInitialized();\r\n-  await Firebase.initializeApp(); // Initializes Firebase\r\n+  await Firebase.initializeApp(); \r\n   runApp(const MyApp());\r\n }\r\n \r\n class MyApp extends StatelessWidget {\r\n@@ -18,9 +18,9 @@\n       title: 'Firebase Auth App',\r\n       theme: ThemeData(\r\n         primarySwatch: Colors.blue,\r\n       ),\r\n-      home: const LoginPage(), // Set login screen as the home page\r\n+      home: const LoginPage(), \r\n       debugShowCheckedModeBanner: false,\r\n     );\r\n   }\r\n }\r\n"
                },
                {
                    "date": 1744892081252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,11 @@\n-import 'package:drivenotes/login.dart';\r\n import 'package:flutter/material.dart';\r\n import 'package:firebase_core/firebase_core.dart';\r\n-// Import the login page from a separate file\r\n+import 'login.dart';\r\n \r\n void main() async {\r\n   WidgetsFlutterBinding.ensureInitialized();\r\n-  await Firebase.initializeApp(); \r\n+  await Firebase.initializeApp();\r\n   runApp(const MyApp());\r\n }\r\n \r\n class MyApp extends StatelessWidget {\r\n@@ -15,12 +14,10 @@\n   @override\r\n   Widget build(BuildContext context) {\r\n     return MaterialApp(\r\n       title: 'Firebase Auth App',\r\n-      theme: ThemeData(\r\n-        primarySwatch: Colors.blue,\r\n-      ),\r\n-      home: const LoginPage(), \r\n+      theme: ThemeData(primarySwatch: Colors.blue),\r\n+      home: const LoginPage(),\r\n       debugShowCheckedModeBanner: false,\r\n     );\r\n   }\r\n }\r\n"
                },
                {
                    "date": 1744892258584,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   @override\r\n   Widget build(BuildContext context) {\r\n     return MaterialApp(\r\n       title: 'Firebase Auth App',\r\n-      theme: ThemeData(primarySwatch: Colors.blue),\r\n+      theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\r\n       home: const LoginPage(),\r\n       debugShowCheckedModeBanner: false,\r\n     );\r\n   }\r\n"
                },
                {
                    "date": 1744892344912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,18 +2,30 @@\n import 'package:firebase_core/firebase_core.dart';\r\n import 'login.dart';\r\n \r\n void main() async {\r\n+  print('Starting app initialization...');\r\n   WidgetsFlutterBinding.ensureInitialized();\r\n-  await Firebase.initializeApp();\r\n+  print('Widgets binding initialized');\r\n+\r\n+  try {\r\n+    print('Initializing Firebase...');\r\n+    await Firebase.initializeApp();\r\n+    print('Firebase initialized successfully');\r\n+  } catch (e) {\r\n+    print('Error initializing Firebase: $e');\r\n+  }\r\n+\r\n+  print('Running app...');\r\n   runApp(const MyApp());\r\n }\r\n \r\n class MyApp extends StatelessWidget {\r\n   const MyApp({super.key});\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n+    print('Building MyApp widget');\r\n     return MaterialApp(\r\n       title: 'Firebase Auth App',\r\n       theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\r\n       home: const LoginPage(),\r\n"
                },
                {
                    "date": 1744893004019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,35 +1,23 @@\n-import 'package:flutter/material.dart';\r\n-import 'package:firebase_core/firebase_core.dart';\r\n-import 'login.dart';\r\n-\r\n-void main() async {\r\n-  print('Starting app initialization...');\r\n-  WidgetsFlutterBinding.ensureInitialized();\r\n-  print('Widgets binding initialized');\r\n-\r\n-  try {\r\n-    print('Initializing Firebase...');\r\n-    await Firebase.initializeApp();\r\n-    print('Firebase initialized successfully');\r\n-  } catch (e) {\r\n-    print('Error initializing Firebase: $e');\r\n-  }\r\n-\r\n-  print('Running app...');\r\n-  runApp(const MyApp());\r\n-}\r\n-\r\n-class MyApp extends StatelessWidget {\r\n-  const MyApp({super.key});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    print('Building MyApp widget');\r\n-    return MaterialApp(\r\n-      title: 'Firebase Auth App',\r\n-      theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\r\n-      home: const LoginPage(),\r\n-      debugShowCheckedModeBanner: false,\r\n-    );\r\n-  }\r\n-}\r\n+import 'package:flutter/material.dart';\n+import 'package:firebase_core/firebase_core.dart';\n+import 'login.dart';\n+\n+void main() async {\n+  WidgetsFlutterBinding.ensureInitialized();\n+  await Firebase.initializeApp();\n+  runApp(const MyApp());\n+}\n+\n+class MyApp extends StatelessWidget {\n+  const MyApp({super.key});\n+\n+  @override\n+  Widget build(BuildContext context) {\n+    return MaterialApp(\n+      title: 'Firebase Auth App',\n+      theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\n+      home: const LoginPage(),\n+      debugShowCheckedModeBanner: false,\n+    );\n+  }\n+}\n"
                },
                {
                    "date": 1744893054326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   @override\n   Widget build(BuildContext context) {\n     return MaterialApp(\n       title: 'Firebase Auth App',\n-      theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\n+      theme: ThemeData(primarySwatch: Colors.blue),\n       home: const LoginPage(),\n       debugShowCheckedModeBanner: false,\n     );\n   }\n"
                },
                {
                    "date": 1744893136108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   @override\n   Widget build(BuildContext context) {\n     return MaterialApp(\n       title: 'Firebase Auth App',\n-      theme: ThemeData(primarySwatch: Colors.blue),\n+      theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\n       home: const LoginPage(),\n       debugShowCheckedModeBanner: false,\n     );\n   }\n"
                },
                {
                    "date": 1744893147885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n-import 'login.dart';\n+import 'app.dart';\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n   await Firebase.initializeApp();\n"
                },
                {
                    "date": 1744893179148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n import 'app.dart';\n \n"
                },
                {
                    "date": 1744893187594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import 'package:drivenotes/login.dart';\n+\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n import 'app.dart';\n \n"
                },
                {
                    "date": 1744893229285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n \n+import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n import 'app.dart';\n \n@@ -16,9 +17,9 @@\n   Widget build(BuildContext context) {\n     return MaterialApp(\n       title: 'Firebase Auth App',\n       theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\n-      home: const LoginPage(),\n+      home: const LoginScreen(),\n       debugShowCheckedModeBanner: false,\n     );\n   }\n }\n"
                },
                {
                    "date": 1744893234576,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,8 @@\n \n import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n-import 'app.dart';\n-\n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n   await Firebase.initializeApp();\n   runApp(const MyApp());\n"
                },
                {
                    "date": 1744893306663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n-\n-import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n+import 'app.dart';\n+\n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n   await Firebase.initializeApp();\n   runApp(const MyApp());\n"
                },
                {
                    "date": 1744893331167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n import 'app.dart';\n \n"
                },
                {
                    "date": 1744894209178,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+import 'package:flutter/material.dart';\n import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n import 'app.dart';\n"
                },
                {
                    "date": 1744894215374,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,25 +1,23 @@\n import 'package:flutter/material.dart';\n-import 'package:drivenotes/login.dart';\n-import 'package:flutter/material.dart';\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:firebase_core/firebase_core.dart';\n-import 'app.dart';\n+import 'login.dart';\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n   await Firebase.initializeApp();\n-  runApp(const MyApp());\n+  runApp(const ProviderScope(child: MyApp()));\n }\n \n class MyApp extends StatelessWidget {\n   const MyApp({super.key});\n \n   @override\n   Widget build(BuildContext context) {\n     return MaterialApp(\n-      title: 'Firebase Auth App',\n+      title: 'DriveNotes',\n       theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\n       home: const LoginScreen(),\n-      debugShowCheckedModeBanner: false,\n     );\n   }\n }\n"
                },
                {
                    "date": 1744896170633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,8 +16,8 @@\n   Widget build(BuildContext context) {\n     return MaterialApp(\n       title: 'DriveNotes',\n       theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\n-      home: const LoginScreen(),\n+      home: const Loginp(),\n     );\n   }\n }\n"
                },
                {
                    "date": 1744896524246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import 'package:flutter/material.dart';\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\n+\n import 'package:firebase_core/firebase_core.dart';\n import 'login.dart';\n \n void main() async {\n@@ -16,8 +16,8 @@\n   Widget build(BuildContext context) {\n     return MaterialApp(\n       title: 'DriveNotes',\n       theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\n-      home: const Loginp(),\n+      home: const LoginPage(),\n     );\n   }\n }\n"
                },
                {
                    "date": 1744896538535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,25 @@\n import 'package:flutter/material.dart';\n-\n import 'package:firebase_core/firebase_core.dart';\n-import 'login.dart';\n+import 'login_page.dart'; // Import the login page from a separate file\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n-  await Firebase.initializeApp();\n-  runApp(const ProviderScope(child: MyApp()));\n+  await Firebase.initializeApp(); // Initializes Firebase\n+  runApp(const MyApp());\n }\n \n class MyApp extends StatelessWidget {\n   const MyApp({super.key});\n \n   @override\n   Widget build(BuildContext context) {\n     return MaterialApp(\n-      title: 'DriveNotes',\n-      theme: ThemeData(primarySwatch: Colors.blue, useMaterial3: true),\n-      home: const LoginPage(),\n+      title: 'Firebase Auth App',\n+      theme: ThemeData(\n+        primarySwatch: Colors.blue,\n+      ),\n+      home: const LoginPage(), // Set login screen as the home page\n+      debugShowCheckedModeBanner: false,\n     );\n   }\n }\n"
                },
                {
                    "date": 1744896549666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n+import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:firebase_core/firebase_core.dart';\n-import 'login_page.dart'; // Import the login page from a separate file\n+ import 'login_page.dart';// Import the login page from a separate file\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n   await Firebase.initializeApp(); // Initializes Firebase\n"
                },
                {
                    "date": 1744896861702,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,7 @@\n import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n-import 'package:firebase_core/firebase_core.dart';\n- import 'login_page.dart';// Import the login page from a separate file\n+import 'package:firebase_core/firebase_core.dart'; // Import the login page from a separate file\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n   await Firebase.initializeApp(); // Initializes Firebase\n@@ -15,11 +14,9 @@\n   @override\n   Widget build(BuildContext context) {\n     return MaterialApp(\n       title: 'Firebase Auth App',\n-      theme: ThemeData(\n-        primarySwatch: Colors.blue,\n-      ),\n+      theme: ThemeData(primarySwatch: Colors.blue),\n       home: const LoginPage(), // Set login screen as the home page\n       debugShowCheckedModeBanner: false,\n     );\n   }\n"
                },
                {
                    "date": 1744897535712,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,26 @@\n-import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n-import 'package:firebase_core/firebase_core.dart'; // Import the login page from a separate file\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\n+import 'package:firebase_core/firebase_core.dart';\n+import 'routes/app_router.dart';\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n-  await Firebase.initializeApp(); // Initializes Firebase\n-  runApp(const MyApp());\n+  await Firebase.initializeApp(); // or use FirebaseOptions if you have firebase_options.dart\n+  runApp(const ProviderScope(child: DriveNotesApp()));\n }\n \n-class MyApp extends StatelessWidget {\n-  const MyApp({super.key});\n+class DriveNotesApp extends ConsumerWidget {\n+  const DriveNotesApp({super.key});\n \n   @override\n-  Widget build(BuildContext context) {\n-    return MaterialApp(\n-      title: 'Firebase Auth App',\n-      theme: ThemeData(primarySwatch: Colors.blue),\n-      home: const LoginPage(), // Set login screen as the home page\n+  Widget build(BuildContext context, WidgetRef ref) {\n+    return MaterialApp.router(\n       debugShowCheckedModeBanner: false,\n+      title: 'DriveNotes',\n+      theme: ThemeData(useMaterial3: true, brightness: Brightness.light),\n+      darkTheme: ThemeData(useMaterial3: true, brightness: Brightness.dark),\n+      themeMode: ThemeMode.system,\n+      routerConfig: AppRouter.router,\n     );\n   }\n }\n"
                },
                {
                    "date": 1744897739517,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n import 'package:flutter/material.dart';\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:firebase_core/firebase_core.dart';\n-import 'routes/app_router.dart';\n \n+\n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n   await Firebase.initializeApp(); // or use FirebaseOptions if you have firebase_options.dart\n   runApp(const ProviderScope(child: DriveNotesApp()));\n"
                },
                {
                    "date": 1744898272671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,33 @@\n+import 'package:drivenotes/features/notes/presentation/pages/notes_list_page.dart';\n+import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n-import 'package:firebase_core/firebase_core.dart';\n+import 'package:go_router/go_router.dart';\n \n-\n-void main() async {\n-  WidgetsFlutterBinding.ensureInitialized();\n-  await Firebase.initializeApp(); // or use FirebaseOptions if you have firebase_options.dart\n-  runApp(const ProviderScope(child: DriveNotesApp()));\n+void main() {\n+  runApp(const ProviderScope(child: MyApp()));\n }\n \n-class DriveNotesApp extends ConsumerWidget {\n-  const DriveNotesApp({super.key});\n+final _router = GoRouter(\n+  initialLocation: '/login',\n+  routes: [\n+    GoRoute(path: '/login', builder: (context, state) => const LoginPage()),\n+    GoRoute(path: '/notes', builder: (context, state) => const NotesListPage()),\n+  ],\n+);\n \n+class MyApp extends StatelessWidget {\n+  const MyApp({super.key});\n+\n   @override\n-  Widget build(BuildContext context, WidgetRef ref) {\n+  Widget build(BuildContext context) {\n     return MaterialApp.router(\n-      debugShowCheckedModeBanner: false,\n       title: 'DriveNotes',\n-      theme: ThemeData(useMaterial3: true, brightness: Brightness.light),\n-      darkTheme: ThemeData(useMaterial3: true, brightness: Brightness.dark),\n-      themeMode: ThemeMode.system,\n-      routerConfig: AppRouter.router,\n+      theme: ThemeData(\n+        colorScheme: ColorScheme.fromSeed(seedColor: Colors.blue),\n+        useMaterial3: true,\n+      ),\n+      routerConfig: _router,\n     );\n   }\n }\n"
                },
                {
                    "date": 1744916775588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import 'package:drivenotes/features/notes/presentation/pages/notes_list_page.dart';\n+import 'package:drivenotes/features/notes/presentation/providers/theme_provider.dart';\n import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:go_router/go_router.dart';\n@@ -15,19 +16,32 @@\n     GoRoute(path: '/notes', builder: (context, state) => const NotesListPage()),\n   ],\n );\n \n-class MyApp extends StatelessWidget {\n+class MyApp extends ConsumerWidget {\n   const MyApp({super.key});\n \n   @override\n-  Widget build(BuildContext context) {\n+  Widget build(BuildContext context, WidgetRef ref) {\n+    final themeMode = ref.watch(themeProvider);\n+\n     return MaterialApp.router(\n       title: 'DriveNotes',\n       theme: ThemeData(\n-        colorScheme: ColorScheme.fromSeed(seedColor: Colors.blue),\n+        colorScheme: ColorScheme.fromSeed(\n+          seedColor: Colors.blue,\n+          brightness: Brightness.light,\n+        ),\n         useMaterial3: true,\n       ),\n+      darkTheme: ThemeData(\n+        colorScheme: ColorScheme.fromSeed(\n+          seedColor: Colors.blue,\n+          brightness: Brightness.dark,\n+        ),\n+        useMaterial3: true,\n+      ),\n+      themeMode: themeMode,\n       routerConfig: _router,\n     );\n   }\n }\n"
                },
                {
                    "date": 1744918157822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:go_router/go_router.dart';\n \n void main() {\n-  runApp(const ProviderScope(child: MyApp()));\n+  runApp(ProviderScope(child: MyApp()));\n }\n \n final _router = GoRouter(\n   initialLocation: '/login',\n@@ -41,7 +41,8 @@\n         useMaterial3: true,\n       ),\n       themeMode: themeMode,\n       routerConfig: _router,\n+      debugShowCheckedModeBanner: false,\n     );\n   }\n }\n"
                },
                {
                    "date": 1744918394279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:go_router/go_router.dart';\n \n void main() {\n-  runApp(ProviderScope(child: MyApp()));\n+  runApp(const ProviderScope(child: MyApp()));\n }\n \n final _router = GoRouter(\n   initialLocation: '/login',\n@@ -16,13 +16,32 @@\n     GoRoute(path: '/notes', builder: (context, state) => const NotesListPage()),\n   ],\n );\n \n-class MyApp extends ConsumerWidget {\n+class MyApp extends ConsumerStatefulWidget {\n   const MyApp({super.key});\n \n   @override\n-  Widget build(BuildContext context, WidgetRef ref) {\n+  ConsumerState<MyApp> createState() => _MyAppState();\n+}\n+\n+class _MyAppState extends ConsumerState<MyApp> {\n+  @override\n+  void initState() {\n+    super.initState();\n+    _loadTheme();\n+  }\n+\n+  Future<void> _loadTheme() async {\n+    final themePersistence = ref.read(themePersistenceProvider);\n+    final savedTheme = await themePersistence.loadTheme();\n+    if (mounted) {\n+      ref.read(themeProvider.notifier).state = savedTheme;\n+    }\n+  }\n+\n+  @override\n+  Widget build(BuildContext context) {\n     final themeMode = ref.watch(themeProvider);\n \n     return MaterialApp.router(\n       title: 'DriveNotes',\n"
                },
                {
                    "date": 1744918439057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:go_router/go_router.dart';\n \n void main() {\n-  runApp(const ProviderScope(child: MyApp()));\n+  runApp(const ProviderScope(child: RootApp()));\n }\n \n final _router = GoRouter(\n   initialLocation: '/login',\n@@ -16,16 +16,16 @@\n     GoRoute(path: '/notes', builder: (context, state) => const NotesListPage()),\n   ],\n );\n \n-class MyApp extends ConsumerStatefulWidget {\n-  const MyApp({super.key});\n+class RootApp extends ConsumerStatefulWidget {\n+  const RootApp({super.key});\n \n   @override\n-  ConsumerState<MyApp> createState() => _MyAppState();\n+  ConsumerState<RootApp> createState() => _RootAppState();\n }\n \n-class _MyAppState extends ConsumerState<MyApp> {\n+class _RootAppState extends ConsumerState<RootApp> {\n   @override\n   void initState() {\n     super.initState();\n     _loadTheme();\n"
                },
                {
                    "date": 1744918479135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:go_router/go_router.dart';\n \n void main() {\n-  runApp(const ProviderScope(child: RootApp()));\n+  runApp(const ProviderScope(child: MyApp()));\n }\n \n final _router = GoRouter(\n   initialLocation: '/login',\n@@ -16,32 +16,13 @@\n     GoRoute(path: '/notes', builder: (context, state) => const NotesListPage()),\n   ],\n );\n \n-class RootApp extends ConsumerStatefulWidget {\n-  const RootApp({super.key});\n+class MyApp extends ConsumerWidget {\n+  const MyApp({super.key});\n \n   @override\n-  ConsumerState<RootApp> createState() => _RootAppState();\n-}\n-\n-class _RootAppState extends ConsumerState<RootApp> {\n-  @override\n-  void initState() {\n-    super.initState();\n-    _loadTheme();\n-  }\n-\n-  Future<void> _loadTheme() async {\n-    final themePersistence = ref.read(themePersistenceProvider);\n-    final savedTheme = await themePersistence.loadTheme();\n-    if (mounted) {\n-      ref.read(themeProvider.notifier).state = savedTheme;\n-    }\n-  }\n-\n-  @override\n-  Widget build(BuildContext context) {\n+  Widget build(BuildContext context, WidgetRef ref) {\n     final themeMode = ref.watch(themeProvider);\n \n     return MaterialApp.router(\n       title: 'DriveNotes',\n@@ -60,8 +41,7 @@\n         useMaterial3: true,\n       ),\n       themeMode: themeMode,\n       routerConfig: _router,\n-      debugShowCheckedModeBanner: false,\n     );\n   }\n }\n"
                },
                {
                    "date": 1744919284255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,9 @@\n \n   @override\n   Widget build(BuildContext context, WidgetRef ref) {\n     final themeMode = ref.watch(themeProvider);\n+    debugPrint('MyApp: Building with theme mode: $themeMode');\n \n     return MaterialApp.router(\n       title: 'DriveNotes',\n       theme: ThemeData(\n"
                },
                {
                    "date": 1744919496018,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,8 @@\n \n   @override\n   Widget build(BuildContext context, WidgetRef ref) {\n     final themeMode = ref.watch(themeProvider);\n-    debugPrint('MyApp: Building with theme mode: $themeMode');\n \n     return MaterialApp.router(\n       title: 'DriveNotes',\n       theme: ThemeData(\n"
                },
                {
                    "date": 1744970654460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,13 @@\n import 'package:drivenotes/login.dart';\n import 'package:flutter/material.dart';\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:go_router/go_router.dart';\n+import 'package:sqflite/sqflite.dart';\n \n+void main() async {\n+  WidgetsFlutterBinding.ensureInitialized();\n+  // Initialize sqflite\n void main() {\n   runApp(const ProviderScope(child: MyApp()));\n }\n \n"
                },
                {
                    "date": 1744970662512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,13 +4,15 @@\n import 'package:flutter/material.dart';\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:go_router/go_router.dart';\n import 'package:sqflite/sqflite.dart';\n+import 'app.dart';\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n   // Initialize sqflite\n-void main() {\n+  await databaseFactory.setDatabasesPath();\n+  \n   runApp(const ProviderScope(child: MyApp()));\n }\n \n final _router = GoRouter(\n"
                },
                {
                    "date": 1744970670940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,53 @@\n+import 'package:drivenotes/features/notes/presentation/pages/notes_list_page.dart';\n+import 'package:drivenotes/features/notes/presentation/providers/theme_provider.dart';\n+import 'package:drivenotes/login.dart';\n+import 'package:flutter/material.dart';\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\n+import 'package:go_router/go_router.dart';\n+import 'package:sqflite/sqflite.dart';\n+import 'app.dart';\n+\n+void main() async {\n+  WidgetsFlutterBinding.ensureInitialized();\n+  // Initialize sqflite\n+  await databaseFactory.setDatabasesPath('notes_database');\n+\n+  runApp(const ProviderScope(child: MyApp()));\n+}\n+\n+final _router = GoRouter(\n+  initialLocation: '/login',\n+  routes: [\n+    GoRoute(path: '/login', builder: (context, state) => const LoginPage()),\n+    GoRoute(path: '/notes', builder: (context, state) => const NotesListPage()),\n+  ],\n+);\n+\n+class MyApp extends ConsumerWidget {\n+  const MyApp({super.key});\n+\n+  @override\n+  Widget build(BuildContext context, WidgetRef ref) {\n+    final themeMode = ref.watch(themeProvider);\n+\n+    return MaterialApp.router(\n+      title: 'DriveNotes',\n+      theme: ThemeData(\n+        colorScheme: ColorScheme.fromSeed(\n+          seedColor: Colors.blue,\n+          brightness: Brightness.light,\n+        ),\n+        useMaterial3: true,\n+      ),\n+      darkTheme: ThemeData(\n+        colorScheme: ColorScheme.fromSeed(\n+          seedColor: Colors.blue,\n+          brightness: Brightness.dark,\n+        ),\n+        useMaterial3: true,\n+      ),\n+      themeMode: themeMode,\n+      routerConfig: _router,\n+    );\n+  }\n+}\n"
                },
                {
                    "date": 1744970734267,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,14 +4,16 @@\n import 'package:flutter/material.dart';\n import 'package:flutter_riverpod/flutter_riverpod.dart';\n import 'package:go_router/go_router.dart';\n import 'package:sqflite/sqflite.dart';\n+import 'package:path_provider/path_provider.dart';\n import 'app.dart';\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n-  // Initialize sqflite\n-  await databaseFactory.setDatabasesPath('notes_database');\n+  // Initialize sqflite with correct path\n+  final appDir = await getApplicationDocumentsDirectory();\n+  await databaseFactory.setDatabasesPath(appDir.path);\n \n   runApp(const ProviderScope(child: MyApp()));\n }\n \n"
                },
                {
                    "date": 1744971056065,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,12 +9,12 @@\n import 'app.dart';\n \n void main() async {\n   WidgetsFlutterBinding.ensureInitialized();\n-  // Initialize sqflite with correct path\n+  // Initialize sqflite\n   final appDir = await getApplicationDocumentsDirectory();\n   await databaseFactory.setDatabasesPath(appDir.path);\n-\n+  \n   runApp(const ProviderScope(child: MyApp()));\n }\n \n final _router = GoRouter(\n"
                },
                {
                    "date": 1744971063192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,62 +12,9 @@\n   WidgetsFlutterBinding.ensureInitialized();\n   // Initialize sqflite\n   final appDir = await getApplicationDocumentsDirectory();\n   await databaseFactory.setDatabasesPath(appDir.path);\n-  \n-  runApp(const ProviderScope(child: MyApp()));\n-}\n \n-final _router = GoRouter(\n-  initialLocation: '/login',\n-  routes: [\n-    GoRoute(path: '/login', builder: (context, state) => const LoginPage()),\n-    GoRoute(path: '/notes', builder: (context, state) => const NotesListPage()),\n-  ],\n-);\n-\n-class MyApp extends ConsumerWidget {\n-  const MyApp({super.key});\n-\n-  @override\n-  Widget build(BuildContext context, WidgetRef ref) {\n-    final themeMode = ref.watch(themeProvider);\n-\n-    return MaterialApp.router(\n-      title: 'DriveNotes',\n-      theme: ThemeData(\n-        colorScheme: ColorScheme.fromSeed(\n-          seedColor: Colors.blue,\n-          brightness: Brightness.light,\n-        ),\n-        useMaterial3: true,\n-      ),\n-      darkTheme: ThemeData(\n-        colorScheme: ColorScheme.fromSeed(\n-          seedColor: Colors.blue,\n-          brightness: Brightness.dark,\n-        ),\n-        useMaterial3: true,\n-      ),\n-      themeMode: themeMode,\n-      routerConfig: _router,\n-    );\n-  }\n-}\n-import 'package:drivenotes/features/notes/presentation/pages/notes_list_page.dart';\n-import 'package:drivenotes/features/notes/presentation/providers/theme_provider.dart';\n-import 'package:drivenotes/login.dart';\n-import 'package:flutter/material.dart';\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\n-import 'package:go_router/go_router.dart';\n-import 'package:sqflite/sqflite.dart';\n-import 'app.dart';\n-\n-void main() async {\n-  WidgetsFlutterBinding.ensureInitialized();\n-  // Initialize sqflite\n-  await databaseFactory.setDatabasesPath();\n-  \n   runApp(const ProviderScope(child: MyApp()));\n }\n \n final _router = GoRouter(\n"
                }
            ],
            "date": 1744891275403,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:firebase_core/firebase_core.dart';\r\nimport 'login_page.dart'; // Import the login page from a separate file\r\n\r\nvoid main() async {\r\n  WidgetsFlutterBinding.ensureInitialized();\r\n  await Firebase.initializeApp(); // Initializes Firebase\r\n  runApp(const MyApp());\r\n}\r\n\r\nclass MyApp extends StatelessWidget {\r\n  const MyApp({super.key});\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return MaterialApp(\r\n      title: 'Firebase Auth App',\r\n      theme: ThemeData(\r\n        primarySwatch: Colors.blue,\r\n      ),\r\n      home: const LoginPage(), // Set login screen as the home page\r\n      debugShowCheckedModeBanner: false,\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}